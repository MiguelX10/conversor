<!DOCTYPE html>
<html>
<head>
    <title>Test CloudConvert API</title>
</head>
<body>
    <h1>Test CloudConvert API</h1>
    <button onclick="testAPI()">Test API Key</button>
    <pre id="result"></pre>

    <script>
        async function testAPI() {
            const result = document.getElementById('result');
            result.textContent = 'Testing...';

            const apiKey = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiIxIiwianRpIjoiZWIyMjNmNzY3ODY2ZjVmYmYwMTAyODc1MzgzNzU2M2U4OWIxNTVlYTRiYjFkYWE3ZTk4YTU3YmI3MmQ2OGI3MGQwZmVmZmY2ZDdmZjEzMGIiLCJpYXQiOjE3NTg1ODkyODguMDE1Nzk2LCJuYmYiOjE3NTg1ODkyODguMDE1Nzk3LCJleHAiOjQ5MTQyNjI4ODguMDExODUxLCJzdWIiOiI3Mjk4NzExMSIsInNjb3BlcyI6W119.fWR7p6xi3vCrjmJPeIthihlheFIL1r9mSgH36QQa6qF7-5r1dwnftgKZJ9OEmOsXvUuFz-t2oweJBOKEXxEHwAWcSDbWr32XQioC8zN8kgnqv0ny3M3DB1OvNikn2JJaMRFC5OIccrFHD0_a9J82WSAxzAWSBk5sxcqUZBeyD_s1S37KV5l0sY2k5MYMmuf2HHXopulrLtK-yZvfFtAMFFiLk7eNS1SBKPx7UJKlFpS35fYlGC98UmPUwppwEheKPGiQYihPUoKdqVNkw29c6_547l-NDjT9B_f4a3baVp2dxOT01wRd3ciY_1JmnXUliGSNi_XQQzoBcgEyKc1Y8gVpd36XwjgvWSfXrVucEcVhlSwetr8txbf1VgbcpuDVCMG4FI-UjFFo0sExt-pUesq9TB3RYl2UvVkXDjY8wpv7ZgB7Ih5NPhG2w1zctB0HMRlNB6rLHn6sKo8tzo_Mk44mKrWIUFuObvqKXgsvwZrJi-VP38zlUCf6aVuu0xT5c60PvIQ4ISf_cbaHmfQnlnYpF7S99bBPqSDnYOf5cBl8fohQuRZoD7I_YyrHUoPul8OP2PMHCGE3hhE1H2bKbYLv6FPZ-hsIu2Oir-T67MOYWoSuxK_6IHEYtSjXk0lam8k75gHa97ASKkyil3yC3EM980gkHcUaGbWYsN4MRAI';

            try {
                // Primero, test básico de la API
                const response = await fetch('https://api.cloudconvert.com/v2/users/me', {
                    headers: {
                        'Authorization': `Bearer ${apiKey}`,
                        'Content-Type': 'application/json'
                    }
                });

                console.log('Status:', response.status);
                console.log('Headers:', [...response.headers.entries()]);

                if (!response.ok) {
                    const errorText = await response.text();
                    result.textContent = `❌ Error ${response.status}: ${errorText}`;
                    return;
                }

                const userData = await response.json();
                result.textContent = `✅ API Key válida!\nUsuario: ${JSON.stringify(userData, null, 2)}`;

            } catch (error) {
                result.textContent = `❌ Error: ${error.message}`;
            }
        }
    </script>
</body>
</html>